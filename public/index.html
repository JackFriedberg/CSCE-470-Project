<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,
shrink-to-fit=no">

    <link rel="stylesheet" type="text/css" href="style.css">

  <title>NBA Team Creation</title>
  </head>
  
  <body>
    <h1>NBA Team Creation</h1> 
    <div class="container"> 
      <div class="container"> 
        <h3>Team</h3> <!-- Editable title for the team -->
        <div class="grid-container">
          <!-- This is where the pictures/info will show up-->
          <div><a href="#center"> <img border="0" alt="" src="default-player.png"> </a></div>
          <div><a href="#pointguard"> <img border="0" alt="" src="default-player.png"> </a></div>
          <div><a href="#smallforward"> <img border="0" alt="" src="default-player.png"> </a></div>
          <div><a href="#powerforward"> <img border="0" alt="" src="default-player.png"> </a></div>
          <div><a href="shooting guard"> <img border="0" alt="" src="default-player.png"> </a></div>
        </div>
        <!-- Have names/positions show up nicely aligned under each picture -->
      </div>

      <div class="container">
        <!-- This is where team results will show up once the team is full-->
      </div>

      <button type="button">Compare</button>
    </div>
   
    <script src="/socket.io/socket.io.js"></script> <!-- Script for Socket IO API (FIXME when hosting somewhere new)--> 
    <script>
      //socket io variable - talks front end to backend 
      var socket = io();

      //get the value inside the input box and send it to the backend
      function sendSearch(){
        var searchText = document.getElementById('searchText').value;
        socket.emit('search', searchText);
      }

      //this function runs when backend passes Solr queries to the front end
      socket.on('sendResults', function(results){
        //output search results in the console
        console.log(results.response);
        //get the documents returned
        allDocs = results.response.docs;
        //get the div to be updated with results
        var divToUpdate = document.getElementById("resultsDiv");
        //delete all prior results
        while (divToUpdate.firstChild) {
          divToUpdate.removeChild(divToUpdate.firstChild);
        }
        //for each document, make a new <P> element and store the entry id inside. Then append to the results div
        for (i = 0; i < allDocs.length; i++){
          var responseString = allDocs[i].id;
          var responseEntry = document.createElement("p");
          responseEntry.innerHTML = responseString;
          divToUpdate.appendChild(responseEntry);
        }
      });

    </script>
  </body>
</html>


<!-- <h3>Search Solr Below:</h3>
        <div>
          Search Text: <input type="text" name="searchText" id="searchText">
          <input type="button" value="Submit" onclick="sendSearch()">
        </div>
        <div>
          <h3>Results</h3>
          <div id = "resultsDiv"> </div>
        </div>
      -->